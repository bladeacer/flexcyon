/* Callout modifications */
// The code snippets in this file are derived from the Halcyon theme 
// - https://github.com/dbarenholz/halcyon-obsidian?tab=readme-ov-file
body.theme-dark {
    --flexcyon-callout-icon-right-padding: 4px;
    --flexcyon-callout-first-codeblock-margin-top: 1.25rem;
    --flexcyon-callout-bg-opacity: 0.2;
}

body:where(.theme-dark) {
    --callout-padding: var(--size-4-3) var(--size-4-6);

    div.callout {
        .callout-icon {
            padding-inline-end: var(--flexcyon-callout-icon-right-padding);
        }

        .callout-content :first-child:is(pre) {
            margin-top: var(--flexcyon-callout-first-codeblock-margin-top);
        }
    }
}

// div[data-callout="multi-column"].callout > .callout-content > div[data-callout-metadata*="wide-3"] { flex-grow: 3; }
div.callout[data-callout-metadata*="tategaki"] {
    div.callout-content {
        writing-mode: vertical-rl;
        overflow: scroll;
        max-width: 95%;
        padding-top: 2vh;
        padding-bottom: 0px !important;
        line-height: 1.667;
        margin: auto;
        min-height: 0 !important;
        max-height: 85vh;
        text-indent: 1rem;

        :is(h1, h2, h3, h4, h5, h6) {
            margin-top: 0;
            line-height: 1.667;
        }
    }
}
div.callout[data-callout-metadata*="vertical-ltr"] {
    div.callout-content {
        writing-mode: vertical-lr;
        overflow: scroll;
        max-width: 95%;
        padding-top: 2vh;
        padding-bottom: 0px !important;
        line-height: 1.667;
        margin: auto;
        min-height: 0 !important;
        max-height: 85vh;
        text-indent: 1rem;

        :is(h1, h2, h3, h4, h5, h6) {
            margin-top: 0;
            line-height: 1.667;
        }
    }
}

div.callout[data-callout-metadata*="empty"],
div.callout[data-callout*="empty"],
div.callout[data-callout-metadata*="tategaki"],
div.callout[data-callout-metadata*="vertical-ltr"],
div.callout[data-callout-metadata*="no-icon"] {
    .callout-icon {
        display: none;
    }
}

div.callout[data-callout-metadata*="tategaki"],
div.callout[data-callout-metadata*="empty"],
div.callout[data-callout*="empty"],
div.callout[data-callout-metadata*="vertical-ltr"],
div.callout[data-callout-metadata*="no-title"] {
    .callout-title-inner {
        display: none;
    }
}

div.callout[data-callout-metadata*="bg-transparent"],
div.callout[data-callout-metadata*="transparent-bg"] {
    background-color: transparent;
}


div.callout[data-callout-metadata*="all-blue"],
div.callout[data-callout-metadata*="bg-blue"] {
    background-color: rgba(var(--color-blue-rgb), var(--flexcyon-callout-bg-opacity));
}

div.callout[data-callout-metadata*="all-red"],
div.callout[data-callout-metadata*="bg-red"] {
    background-color: rgba(var(--color-red-rgb), var(--flexcyon-callout-bg-opacity));
}

div.callout[data-callout-metadata*="all-purple"],
div.callout[data-callout-metadata*="bg-purple"] {
    background-color: rgba(var(--color-purple-rgb), var(--flexcyon-callout-bg-opacity));
}

div.callout[data-callout-metadata*="all-cyan"],
div.callout[data-callout-metadata*="bg-cyan"] {
    background-color: rgba(var(--color-cyan-rgb), var(--flexcyon-callout-bg-opacity));
}
div.callout[data-callout-metadata*="all-pink"],
div.callout[data-callout-metadata*="bg-pink"] {
    background-color: rgba(var(--color-pink-rgb), var(--flexcyon-callout-bg-opacity));
}
div.callout[data-callout-metadata*="all-green"],
div.callout[data-callout-metadata*="bg-green"] {
    background-color: rgba(var(--color-green-rgb), var(--flexcyon-callout-bg-opacity));
}
div.callout[data-callout-metadata*="all-orange"],
div.callout[data-callout-metadata*="bg-orange"] {
    background-color: rgba(var(--color-orange-rgb), var(--flexcyon-callout-bg-opacity));
}
div.callout[data-callout-metadata*="all-yellow"],
div.callout[data-callout-metadata*="bg-yellow"] {
    background-color: rgba(var(--color-yellow-rgb), var(--flexcyon-callout-bg-opacity));
}

div.callout[data-callout-metadata*="all-blue"],
div.callout[data-callout-metadata*="title-blue"] {
    .callout-title, .callout-icon .svg-icon {
        color: var(--color-blue);
    }
}

div.callout[data-callout-metadata*="all-red"],
div.callout[data-callout-metadata*="title-red"] {
    .callout-title, .callout-icon .svg-icon {
        color: var(--color-red);
    }
}

div.callout[data-callout-metadata*="all-purple"],
div.callout[data-callout-metadata*="title-purple"] {
    .callout-title, .callout-icon .svg-icon {
        color: var(--color-purple);
    }
}

div.callout[data-callout-metadata*="all-cyan"],
div.callout[data-callout-metadata*="title-cyan"] {
    .callout-title, .callout-icon .svg-icon {
        color: var(--color-cyan);
    }
}

div.callout[data-callout-metadata*="all-pink"],
div.callout[data-callout-metadata*="title-pink"] {
    .callout-title, .callout-icon .svg-icon {
        color: var(--color-pink);
    }
}

div.callout[data-callout-metadata*="all-green"],
div.callout[data-callout-metadata*="title-green"] {
    .callout-title, .callout-icon .svg-icon {
        color: var(--color-green);
    }
}

div.callout[data-callout-metadata*="all-orange"],
div.callout[data-callout-metadata*="title-orange"] {
    .callout-title, .callout-icon .svg-icon {
        color: var(--color-orange);
    }
}

div.callout[data-callout-metadata*="all-yellow"],
div.callout[data-callout-metadata*="title-yellow"] {
    .callout-title, .callout-icon .svg-icon {
        color: var(--color-yellow);
    }
}


div.callout[data-callout-metadata*="center-all"],
div.callout[data-callout-metadata*="center-title"] {
    div.callout-title {
        justify-content: center;
    }
}

div.callout[data-callout-metadata*="center-all"],
div.callout[data-callout-metadata*="center-content"] {
    div.callout-content {
        text-align: center;
        
    }
}


div.callout[data-callout-metadata*="rtl-all"],
div.callout[data-callout-metadata*="rtl-title"] {
    div.callout-title *,
    div.callout-title {
        direction: rtl !important;
        unicode-bidi: bidi-override;
    }
}

div.callout[data-callout-metadata*="rtl-all"],
div.callout[data-callout-metadata*="rtl-content"] {
    div.callout-content {
        * {
            direction: rtl !important;
            unicode-bidi: bidi-override;
        }

        code[class*="language-"],
        pre[class*="language-"] {
            text-align: right;
        }

    }
}

div.callout[data-callout-metadata*="ltr-all"],
div.callout[data-callout-metadata*="ltr-title"] {
    div.callout-title *,
    div.callout-title {
        direction: ltr !important;
        unicode-bidi: bidi-override;
    }
}

div.callout[data-callout-metadata*="ltr-all"],
div.callout[data-callout-metadata*="ltr-content"] {
    div.callout-content * {
        * {
            direction: rtl !important;
            unicode-bidi: bidi-override;
        }

        code[class*="language-"],
        pre[class*="language-"] {
            text-align: left;
        }
    }
}
div.callout[data-callout-metadata*="uppercase-all"],
div.callout[data-callout-metadata*="uppercase-title"] {
    div.callout-title .callout-title-inner {
        text-transform: uppercase;
    }
}

div.callout[data-callout-metadata*="uppercase-all"],
div.callout[data-callout-metadata*="uppercase-content"] {
    div.callout-content * {
        text-transform: uppercase;
        * {
            text-transform: uppercase;
        }

        code[class*="language-"],
        pre[class*="language-"] {
            text-transform: uppercase;
        }
    }
}

div.callout[data-callout-metadata*="lowercase-all"],
div.callout[data-callout-metadata*="lowercase-title"] {
    div.callout-title .callout-title-inner {
        text-transform: lowercase;
    }
}

div.callout[data-callout-metadata*="lowercase-all"],
div.callout[data-callout-metadata*="lowercase-content"] {
    div.callout-content * {
        text-transform: lowercase;
        * {
            text-transform: lowercase;
        }

        code[class*="language-"],
        pre[class*="language-"] {
            text-transform: lowercase;
        }
    }
}

div.callout[data-callout-metadata*="caps-all"],
div.callout[data-callout-metadata*="caps-title"] {
    div.callout-title .callout-title-inner {
        text-transform: capitalize;
    }
}

div.callout[data-callout-metadata*="caps-all"],
div.callout[data-callout-metadata*="caps-content"] {
    div.callout-content * {
        text-transform: capitalize;
        * {
            text-transform: capitalize;
        }

        code[class*="language-"],
        pre[class*="language-"] {
            text-transform: capitalize;
        }
    }
}