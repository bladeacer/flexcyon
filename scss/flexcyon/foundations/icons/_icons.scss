// The code snippets in this file are derived from the Halcyon theme 
// - https://github.com/dbarenholz/halcyon-obsidian?tab=readme-ov-file

body.theme-dark {
    --dimmed: 0.55;
    --upsize: 103%;
    --expand: 110%;
    --less-letter-spacing: -3px;
    --flexcyon-comm-item-opacity: 0.89;

    .clickable-icon {
        opacity: var(--dimmed);
        padding: 0px 8px;

        &:hover {
            opacity: unset;
            scale: var(--upsize);
        }
    }

    .graph-controls .clickable-icon,
    .clickable-icon.side-dock-ribbon-action {
        padding: var(--size-2-2) var(--size-2-3);
    }

}

body:not(.is-phone) .community-item.is-selected,
body:not(.is-phone) .community-item.is-selected:hover {
    .community-item-downloads {
        color: var(--color-base-00);
    }

    .community-item-updated {
        color: var(--color-base-25);
    }
}

body.flexcyon-settings-smiley-icons-enabled div.setting-item-control {
    div.checkbox-container {
        background-color: var(--color-base-05);
        box-shadow: unset;
        font-weight: bolder;
    }

    div.checkbox-container::after {
        content: ':(';
        transform: translateY(-0.5px);
        width: fit-content;
        height: fit-content;
        background-color: inherit;
        color: var(--color-red);
        box-shadow: unset;
        border-radius: 25%;
    }

    div.checkbox-container.is-enabled::after {
        content: ':)';
        color: var(--color-green);
    }

    input.slider {
        border-radius: unset;
    }
}

body.flexcyon-sidedock-icon-effects div.side-dock-actions {
    opacity: var(--dimmed);
    scale: var(--upsize);

    &:hover {
        opacity: 1;
    }

    & :nth-of-type(5n):hover {
        color: var(--color-blue);
        scale: var(--expand);
    }

    & :nth-of-type(5n+1):hover {
        color: var(--color-purple);
        scale: var(--expand);
    }

    & :nth-of-type(5n+2):hover {
        color: var(--color-cyan);
        scale: var(--expand);
    }

    & :nth-of-type(5n+3):hover {
        color: var(--color-pink);
        scale: var(--expand);
    }

    & :nth-of-type(5n+4):hover {
        color: var(--color-green);
        scale: var(--expand);
    }

    & :nth-of-type(5n+5):hover {
        color: var(--color-yellow);
        scale: var(--expand);
    }
}

body.flexcyon-sidedock-ribbon-hidden div.side-dock-ribbon {
    display: none;
}

body:where(.theme-dark) {
    --icon-stroke: 2px;
    --icon-color-active: var(--interactive-accent);
    --icon-color-focused: var(--interactive-accent);
    --clickable-icon-radius: 0;

    [aria-label^="Collapse results"] {
        letter-spacing: var(--less-letter-spacing);
    }

    span.flair.mod-pop {
        margin-left: var(--flexcyon-settings-installed-tooltip-left-margin);
    }

}

body.flexcyon-settings-comm-item-enabled {
    div.community-modal-search-results div.community-item {
        opacity: var(--flexcyon-comm-item-opacity);
    }

    div.community-modal-search-results div.community-item.is-selected {
        opacity: unset;
        border: unset;
        font-weight: bold;
    }

    div.community-item div.community-item-name span.flair.mod-pop {
        position: absolute;
        right: 0.5rem;
        top: 0.7rem;
        background-color: var(--text-accent);
        color: var(--color-base-25);
    }

    div.community-item.is-selected div.community-item-name span.flair.mod-pop {
        background-color: var(--color-base-25);
        color: var(--text-normal);
    }

    .community-item-name {
        width: 75%;
        overflow-wrap: break-word;
    }

    .community-item-downloads,
    .community-modal-info-downloads {
        color: rgba(var(--color-cyan-rgb), var(--flexcyon-comm-item-opacity));
    }

    .community-item-updated {
        color: rgba(var(--color-blue-rgb), calc(var(--flexcyon-comm-item-opacity) - 0.1));
    }

    .community-modal-info-version {
        color: rgba(var(--color-green-rgb), calc(var(--flexcyon-comm-item-opacity) - 0.1));
    }
}



body.flexcyon-settings-coloured-icons {

    [aria-label^="Uninstall"] {
        color: rgba(var(--color-red-rgb), 0.9);
    }

    [aria-label^="Options"] {
        color: rgba(var(--color-blue-rgb), 0.9);
    }

    [aria-label^="Hotkeys"] {
        color: rgba(var(--color-green-rgb), 0.9);
    }

    [aria-label^="Donate to support"] {
        color: rgba(var(--color-pink-rgb), 0.9);
    }

    [aria-label^="Reload plugins"] {
        color: rgba(var(--color-cyan-rgb), 0.9);
    }

    [aria-label^="Open plugins folder"] {
        color: rgba(var(--color-green-rgb), 0.9);
    }

    [aria-label^="Reload snippets"] {
        color: rgba(var(--color-cyan-rgb), 0.9);
    }

    [aria-label^="Open snippets folder"] {
        color: rgba(var(--color-green-rgb), 0.9);
    }

    [aria-label^="Restore default"] {
        color: rgba(var(--color-purple-rgb), 0.9);
    }

}

body.flexcyon-titlebar-button-effects {
    .titlebar-button.mod-minimize {
        &:hover {
            color: var(--color-cyan);
        }
    }

    .titlebar-button.mod-maximize {
        &:hover {
            color: var(--color-blue);
        }
    }

    .titlebar-button.mod-close {
        &:hover {
            color: var(--text-normal);
        }
    }

    .titlebar-button {
        opacity: var(--dimmed);

        &:hover {
            opacity: unset;
            scale: var(--expand);
        }
    }
}

body.is-mobile.theme-dark .vertical-tab-content {
    background-color: var(--color-base-05);
}


body.flexcyon-workspace-angled-layout {
    .collapse-icon.is-collapsed svg.svg-icon {
        transform: rotate(calc(var(--direction) * -1 * 90deg)) skewX(-5deg);
    }
    .tree-item-self .collapse-icon svg {
        transform: skewX(7.5deg);
    }
}